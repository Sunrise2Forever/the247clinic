<%= form_for(@user) do |f| %>
  <%= render 'shared/error_messages', object: @user %>

  <%= f.label :user_type %>
  <% if @user.id %>
    <div class='form-control form-group'>
      <%= @user.user_type_string %>
    </div>
  <% else %>
    <%= f.select :user_type, class: 'form-control' do %>
      <%= content_tag(:option, 'Patient', value: 'patient') %>
      <%= content_tag(:option, 'Doctor', value: 'doctor', selected: @user.doctor?) %>
    <% end %>
  <% end %>

  <div class="select_clinic_section">
    <%= f.label :clinic %>
    <%= f.select :clinic_id,
                 Clinic.all.map { |clinic| [clinic.name, clinic.id] },
                 { include_blank: true }
    %>
  </div>

  <%= f.label :name %>
  <%= f.text_field :name, class: 'form-control' %>

  <%= f.label :email %>
  <%= f.email_field :email, class: 'form-control' %>

  <%= f.label :mspnum %>
  <%= f.text_field :mspnum, class: 'form-control' %>

  <%= f.label :address1 %>
  <%= f.text_field :address1, class: 'form-control' %>
  <%= f.label :address2 %>
  <%= f.text_field :address2, class: 'form-control' %>
  <%= f.label :city %>
  <%= f.select :city, class: 'form-control' do %>
    <% [['Vancouver', 1], ['Richmond', 2], ['Burnaby', 3], ['Surrey', 4], ['North Vancouver', 5]].each do |c| -%>
      <%= content_tag(:option, c.first, value: c.last) %>
    <% end %>
  <% end %>
  <%= f.label :country %>
  <%= f.text_field :country, class: 'form-control' %>
  <%= f.label :provincestate %>
  <%= f.text_field :provincestate, class: 'form-control' %>
  <%= f.label :zipcode %>
  <%= f.text_field :zipcode, class: 'form-control' %>
  <%= f.label :phone %>
  <%= f.telephone_field :phone, class: 'form-control' %>
  <%= f.label :gender %>
  <%= f.text_field :gender, class: 'form-control' %>
  <%= f.label :birthdate %>
  <%= f.date_select :birthdate, class: 'form-control' %>

  <%= f.label :password %>
  <%= f.password_field :password, class: 'form-control' %>

  <%= f.label :password_confirmation, "Confirmation" %>
  <%= f.password_field :password_confirmation, class: 'form-control' %>

  <%= f.submit class: "btn btn-primary" %>
<% end %>

<script type="text/javascript">
  $('.input-group').datetimepicker();
  init_clinic_section('<%= @user.user_type %>');
</script>
